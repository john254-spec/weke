<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Weke - Windows & Office Tools</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      background-color: #f0f0f0;
      color: #333;
    }
    nav {
      margin-bottom: 20px;
    }
    a {
      margin: 0 10px;
      text-decoration: none;
      color: #007bff;
      font-weight: 600;
      cursor: pointer;
    }
    a:hover {
      text-decoration: underline;
    }
    h1 {
      color: #222;
      margin-bottom: 10px;
    }
    .admin-link {
      font-style: italic;
      color: #d9534f;
    }
    #auth-status {
      margin-top: 20px;
      font-weight: bold;
    }
    .hidden {
      display: none;
    }
    .form-container {
      background: white;
      padding: 20px;
      border-radius: 6px;
      max-width: 300px;
      box-shadow: 0 0 5px #aaa;
      margin-top: 20px;
    }
    input[type="text"], input[type="password"] {
      width: 100%;
      padding: 8px;
      margin: 8px 0 16px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    button {
      background-color: #007bff;
      color: white;
      border: none;
      padding: 10px;
      width: 100%;
      font-weight: bold;
      cursor: pointer;
      border-radius: 4px;
    }
    button:hover {
      background-color: #0056b3;
    }
    #tabs {
      margin-bottom: 20px;
    }
    #tabs button {
      margin-right: 5px;
      padding: 8px 12px;
      border: 1px solid #007bff;
      background: white;
      color: #007bff;
      border-radius: 4px 4px 0 0;
      font-weight: 600;
    }
    #tabs button.active {
      background: #007bff;
      color: white;
    }
  </style>
</head>
<body>

  <h1>Welcome to Weke!</h1>

  <nav>
    <a href="#" id="link-login">Login</a> | 
    <a href="#" id="link-register">Register</a> | 
    <a href="#" id="link-about">About</a>
    | <a href="#" id="link-dashboard" class="admin-link hidden">Admin Dashboard</a>
    | <a href="#" id="link-logout" class="hidden">Logout</a>
  </nav>

  <div id="auth-status"></div>

  <div id="content">
    <!-- Dynamic content will be loaded here -->
  </div>

<script>
  // Simple "database" in localStorage (for demo only)
  // User object stored as JSON in localStorage with key "wekelogin_user"
  
  // Elements
  const content = document.getElementById('content');
  const authStatus = document.getElementById('auth-status');
  const linkLogin = document.getElementById('link-login');
  const linkRegister = document.getElementById('link-register');
  const linkAbout = document.getElementById('link-about');
  const linkDashboard = document.getElementById('link-dashboard');
  const linkLogout = document.getElementById('link-logout');

  function isLoggedIn() {
    return localStorage.getItem('wekelogin_user') !== null;
  }

  function getUser() {
    return JSON.parse(localStorage.getItem('wekelogin_user'));
  }

  function updateNav() {
    if (isLoggedIn()) {
      linkDashboard.classList.remove('hidden');
      linkLogout.classList.remove('hidden');
      linkLogin.classList.add('hidden');
      linkRegister.classList.add('hidden');
      const user = getUser();
      authStatus.textContent = `Logged in as ${user.username}`;
    } else {
      linkDashboard.classList.add('hidden');
      linkLogout.classList.add('hidden');
      linkLogin.classList.remove('hidden');
      linkRegister.classList.remove('hidden');
      authStatus.textContent = 'Not logged in';
    }
  }

  // Render pages
  function renderLogin() {
    content.innerHTML = `
      <div class="form-container">
        <h2>Login</h2>
        <form id="login-form">
          <input type="text" id="login-username" placeholder="Username" required />
          <input type="password" id="login-password" placeholder="Password" required />
          <button type="submit">Login</button>
        </form>
        <p>Don't have an account? <a href="#" id="to-register">Register here</a></p>
        <p id="login-error" style="color:red;"></p>
      </div>
    `;

    document.getElementById('to-register').onclick = e => {
      e.preventDefault();
      renderRegister();
    };

    document.getElementById('login-form').onsubmit = e => {
      e.preventDefault();
      const username = document.getElementById('login-username').value.trim();
      const password = document.getElementById('login-password').value;

      // Simple validation
      if (!username || !password) {
        showError('login-error', 'Please fill all fields');
        return;
      }

      const users = JSON.parse(localStorage.getItem('weke_users') || '{}');
      if (!users[username] || users[username] !== password) {
        showError('login-error', 'Invalid username or password');
        return;
      }

      // Login success
      localStorage.setItem('wekelogin_user', JSON.stringify({ username }));
      updateNav();
      renderWelcome();
    };
  }

  function renderRegister() {
    content.innerHTML = `
      <div class="form-container">
        <h2>Register</h2>
        <form id="register-form">
          <input type="text" id="register-username" placeholder="Choose username" required />
          <input type="password" id="register-password" placeholder="Choose password" required />
          <button type="submit">Register</button>
        </form>
        <p>Already have an account? <a href="#" id="to-login">Login here</a></p>
        <p id="register-error" style="color:red;"></p>
      </div>
    `;

    document.getElementById('to-login').onclick = e => {
      e.preventDefault();
      renderLogin();
    };

    document.getElementById('register-form').onsubmit = e => {
      e.preventDefault();
      const username = document.getElementById('register-username').value.trim();
      const password = document.getElementById('register-password').value;

      if (!username || !password) {
        showError('register-error', 'Please fill all fields');
        return;
      }

      let users = JSON.parse(localStorage.getItem('weke_users') || '{}');
      if (users[username]) {
        showError('register-error', 'Username already taken');
        return;
      }

      // Save new user
      users[username] = password;
      localStorage.setItem('weke_users', JSON.stringify(users));
      alert('Registration successful! You can now login.');
      renderLogin();
    };
  }

  function renderAbout() {
    content.innerHTML = `
      <div>
        <h2>About Weke</h2>
        <p>Weke is a platform for Windows and Office tools.</p>
        <p>This demo shows a simple login system with admin dashboard access control.</p>
      </div>
    `;
  }

  function renderDashboard() {
    if (!isLoggedIn()) {
      alert('You must be logged in to access the Admin Dashboard.');
      renderLogin();
      return;
    }
    const user = getUser();
    content.innerHTML = `
      <div>
        <h2>Admin Dashboard</h2>
        <p>Welcome, <strong>${user.username}</strong>!</p>
        <p>This is a protected admin area.</p>
      </div>
    `;
  }

  function renderWelcome() {
    content.innerHTML = `
      <div>
        <h2>Welcome to Weke!</h2>
        <p>Please use the navigation links above to Login, Register, or visit About.</p>
      </div>
    `;
  }

  function showError(id, message) {
    document.getElementById(id).textContent = message;
  }

  // Event Listeners for nav links
  linkLogin.onclick = e => {
    e.preventDefault();
    renderLogin();
  };

  linkRegister.onclick = e => {
    e.preventDefault();
    renderRegister();
  };

  linkAbout.onclick = e => {
    e.preventDefault();
    renderAbout();
  };

  linkDashboard.onclick = e => {
    e.preventDefault();
    renderDashboard();
  };

  linkLogout.onclick = e => {
    e.preventDefault();
    localStorage.removeItem('wekelogin_user');
    updateNav();
    renderWelcome();
  };

  // Initialize
  updateNav();
  renderWelcome();

</script>

</body>
</html>

